program: run.py
method: bayes
metric:
  goal: maximize
  name: val_acc_mean
parameters:
  # Feature config
  teamfeatures_config.threshold_correlation_drop:
    min: 0.7
    max: 0.9
  teamfeatures_config.fn_agg_to_drop:
    values:
      - []  # keep all
      - [season_average, 5_last_match_average]  
      - [season_average, 5_last_match_sum, 5_last_match_average, 5_last_match_std]
      - [season_average, season_std, 5_last_match_sum, 5_last_match_average, 5_last_match_std]
      - [season_sum, season_average, season_std, 5_last_match_sum, 5_last_match_average, 5_last_match_std]
  teamfeatures_config.add_non_null_indicator_feature:
    values: [True, False]
  teamfeatures_config.add_non_null_indicator_metric:
    values: [True, False]
  teamfeatures_config.imputation_method:
    values: [median, mean, zero, False]
  # teamfeatures_config.add_global_winrate:   # no elo/global winrate for guaranteed no data leakage
  #   values: [True, False]
  # teamfeatures_config.add_elo:
  #   values: [True, False]

  # Player features
  playerfeatures_config.fn_agg_to_drop:
    values:
      - []
      - [season_average, 5_last_match_average]  
      - [season_average, 5_last_match_sum, 5_last_match_average, 5_last_match_std]
      - [season_average, season_std, 5_last_match_sum, 5_last_match_average, 5_last_match_std]
      - [season_sum, season_average, season_std, 5_last_match_sum, 5_last_match_average, 5_last_match_std]
  playerfeatures_config.threshold_correlation_drop:
    min: 0.5
    max: 0.95
  playerfeatures_config.add_non_null_indicator_feature:
    values: [True, False]
  playerfeatures_config.add_non_null_indicator_metric:
    values: [True, False]
  playerfeatures_config.imputation_method:
    values: [median, mean, zero, False]
  
  # Aggregator config
  aggregator_config.n_top_features:
    values: [1, 2, 3, 4, 8, 16]



  # # XGB config
  trainer.config.max_depth:
    values: [3, 5, 8, 10, 12, 16, 24]
  trainer.config.learning_rate:
    values: [1, 0.1, 0,05, 0.01, 0.005, 0.001]
  trainer.config.n_estimators:
    values: [10, 50, 100, 200]
  trainer.config.subsample:
    min: 0.7
    max: 1.0
  trainer.config.colsample_bytree:
    min: 0.7
    max: 1.0
  trainer.config.reg_alpha:
    min: 0.0
    max: 1.0
  trainer.config.reg_lambda:
    min: 0.0
    max: 1.0


command:
  - ${env}
  - python
  - ${program}
  - ${args_no_hyphens}